<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      .collapsible-title {
        background-color: #777;
        color: white;
        cursor: pointer;
        padding: 18px;
        width: 100%;
        border: none;
        font-weight: normal;
        margin: 0;
        text-align: left;
        outline: none;
        font-size: 15px;

        &.active,
        &:hover {
          background-color: #555;
        }
      }

      .content {
        padding: 0 18px;
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.2s ease-out;
        background-color: #f1f1f1;
      }
    </style>
  </head>
  <body>
    <h2>Animated Collapsibles</h2>
    <p>A Collapsible</p>
    <div class="collapse">
      <h1 class="collapsible-title">Open Collapsibles</h1>
      <div class="content">
        <p>
          At vero eos et accusamus et iusto odio dignissimos ducimus qui
          blanditiis praesentium voluptatum deleniti atque corrupti quos dolores
          et quas molestias excepturi sint occaecati cupiditate non provident,
          similique sunt in culpa qui officia deserunt mollitia animi, id est
          laborum et dolorum fuga.
        </p>
      </div>
    </div>
    <div class="collapse">
      <h1 class="collapsible-title">Open Collapsibles</h1>
      <div class="content">
        <p>
          At vero eos et accusamus et iusto odio dignissimos ducimus qui
          blanditiis praesentium voluptatum deleniti atque corrupti quos dolores
          et quas molestias excepturi sint occaecati cupiditate non provident,
          similique sunt in culpa qui officia deserunt mollitia animi, id est
          laborum et dolorum fuga.
        </p>
      </div>
    </div>
    <div class="collapse">
      <h1 class="collapsible-title">Open Collapsibles</h1>
      <div class="content">
        <p>
          At vero eos et accusamus et iusto odio dignissimos ducimus qui
          blanditiis praesentium voluptatum deleniti atque corrupti quos dolores
          et quas molestias excepturi sint occaecati cupiditate non provident,
          similique sunt in culpa qui officia deserunt mollitia animi, id est
          laborum et dolorum fuga.
        </p>
      </div>
    </div>
    <div class="collapse">
      <h1 class="collapsible-title">Open Collapsibles</h1>
      <div class="content">
        <p>
          At vero eos et accusamus et iusto odio dignissimos ducimus qui
          blanditiis praesentium voluptatum deleniti atque corrupti quos dolores
          et quas molestias excepturi sint occaecati cupiditate non provident,
          similique sunt in culpa qui officia deserunt mollitia animi, id est
          laborum et dolorum fuga.
        </p>
      </div>
    </div>
    <div class="collapse">
      <h1 class="collapsible-title">Open Collapsibles</h1>
      <div class="content">
        <p>
          At vero eos et accusamus et iusto odio dignissimos ducimus qui
          blanditiis praesentium voluptatum deleniti atque corrupti quos dolores
          et quas molestias excepturi sint occaecati cupiditate non provident,
          similique sunt in culpa qui officia deserunt mollitia animi, id est
          laborum et dolorum fuga.
        </p>
      </div>
    </div>

    <script>
      // add click event listener to each collapses
      document.querySelectorAll(".collapsible-title").forEach((v, i) => {
        // when Clicked, add active class
        v.addEventListener("click", (e) => {
          document.querySelectorAll(".content").forEach((v, i) => {
            v.style.maxHeight = null;
          });
          // if Clicked again, delete active class by .toggle()

          const current = e.currentTarget;
          current.classList.toggle("active");
          // delete active class from all
          document.querySelectorAll(".collapsible-title").forEach((v, i) => {
            if (v != current) {
              v.classList.remove("active");
            }
          });
          const parent = current.closest(".collapse");
          const content = parent.querySelector(".content");
          if (content.style.maxHeight) {
            content.style.maxHeight = null;
          } else {
            content.style.maxHeight = content.scrollHeight + "px";
          }
        });
      });
    </script>
  </body>
</html>
